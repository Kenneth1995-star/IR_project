The Dog Who Stopped the War (La Guerre des tuques)

The film involves a huge snowball fight between the children of a small town in Quebec during winter vacation who split into two rival gangs, one defending a snow castle, the other attacking it. The attackers are led by a boy who styles himself as "General Luc" and has a reputation for being bossy. The defenders are outnumbered and led by Marc, who owns a dog named Cleo. They also have the genius boy Francois on their side.
Francois designs a massive, elaborate snow fortress, and Marc's group constructs it. Luc arrives with his army, wearing makeshift armour and wielding wooden swords. They attempt to scale the walls with a ladder, but Luc is injured in the battle and orders a retreat. They regroup and stage a second, more covert attack, but they are spotted and beaten back again with snowballs soaked in ink.
Luc counters by attacking a third time, this time with his army dressed in garbage bags as protection from the ink. They overwhelm the fort's defences, and Marc and Francois escape via toboggan through a secret tunnel. The two groups meet and agree to have one final battle to determine the winner.
Luc shows up for the final siege with an even larger army, having recruited additional (younger) children with chocolate. They also possess new weapons such as slingshots and a snowball cannon. Luc orders them to charge, and despite being slowed by barricades, they eventually breach the fortress walls and engage in melee combat with the defenders. Marc's dog Cleo comes after her owner, and one of the fortress walls collapses, killing her. The war ends, as both sides help bury her.
The song at the end of the movie is performed by Nathalie Simard.