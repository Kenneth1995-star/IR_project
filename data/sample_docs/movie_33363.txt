Detective Conan: The Phantom of Baker Street

Child prodigy Hiroki Sawada—who, by the age of ten, is already a MIT grad student and has developed a DNA Tracker software—has been under the guardianship of Thomas Schindler, owner of the software giant Schindler, Inc., since his mother died. One night, in a heavily guarded room at the top of the Schindler building where Hiroki lives, he finishes an artificial intelligence system, Noah's Ark, and sends the software through the telephone lines. The guards become suspicious when he does not respond. They bust open the door, but discover that Hiroki has disappeared, apparently having leapt off the building.
Two years later, at the Beika City Hall, Schindler, Inc., holds a demonstration of an immersive virtual reality game called Cocoon. Conan, Richard, Rachel and the Junior Detectives (including Vi Graythorn) are attending the demonstration, but cannot participate without special badges, which have been allocated to children associated with the game's investors and prominent socialites such as Serena. Dr. Agasa and Booker Kudo, who have been involved in the development of the game's setting, attend the event. Agasa gives Conan a badge, while the other Junior Detective kids trade Premium Golden Yaiba Cards for badges.
When security discovers that Kashimura, a top employee of Schindler, Inc., has been killed. Booker and Conan rush to investigate. Discovering that Kashimura's keyboard has blood stains on three of the keys (R, T, and J), Conan decides to participate in the demonstration, hoping that the game would lead him to an answer. Booker reasons out that J-T-R stands for "Jack the Ripper".
When the demonstration begins, Hiroki's artificial intelligence system, Noah's Ark, announces it has taken control, but it tells the audience that if none of the fifty kids are able to survive the game, it will kill the kids in reality using a large electromagnetic burst. The kids must choose one of five types of games while the audience watch helplessly, unable to shut the game down. Conan and the Junior Detectives choose the fifth, a re-creation 19th century London set in the world of Sherlock Holmes. Conan and his friends track down 221B Baker Street, only to find that Sherlock Holmes and Dr. Watson are at Dartmoor. Since Holmes cannot help, the kids find Sebastian Moran and Professor Moriarty. Moriarty tells Conan that he trained Jack the Ripper when Jack was a street urchin. The professor gives the children a clue about the next victim, who turns out to be Irene Adler, Holmes's only love. Some of the events lead to more kids being eliminated from the game, including the Junior Detectives. Meanwhile, in the real world, Booker investigates the case and reveals that Kashimura's murderer is the company's president, Thomas Schindler, who Hiroki had discovered was a descendant of the original Jack the Ripper.
Eventually only three are left: Conan, Rachel, and another child named Hideki Moroboshi. They follow Jack the Ripper to a train and reveals Jack among the passengers. However, Jack captures Rachel and sets the train on a runaway course. After being unable to stop the train, Conan and Hideki confront Jack on top of the train where he has tied himself to Rachel. Hoping that Conan can figure out the situation, Rachel sacrifices herself by jumping off the train and into a ravine, pulling Jack with her. As Conan begins to lose hope, Sherlock Holmes appears and gives Conan some useful advice that eventually helps Conan and Hideki survive the game when the train crashes into the station. After winning the game, Conan reveals that Hideki is actually Hiroki, who has manifested himself as Noah's Ark. In a private conversation, Hiroki says he was satisfied with the outcome, as he was hoping the kids can paint a brighter future than their parents, and that he was happy he could also participate as a player in the game. He releases the children from the game and then erases himself.