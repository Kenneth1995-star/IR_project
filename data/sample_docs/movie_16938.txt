Kingsman: The Secret Service

During a mission in the Middle East in 1997, probationary secret agent Lee Unwin sacrifices himself to protect his superior Harry Hart. Hart, blaming himself, returns to London to give Lee's widow Michelle and her young son Gary "Eggsy" a medal engraved with an emergency assistance number.
Seventeen years later, Eggsy, having dropped out of training for the Royal Marines despite his intelligence and capability, has become a stereotypical chav.[8][9] After being arrested for stealing a car, Eggsy calls the number. Hart arranges his release. Hart explains that he is a member of Kingsman, a private intelligence service founded by wealthy British individuals who lost their heirs in World War I. Hart, code name "Galahad", explains there is a position available, as agent "Lancelot" was killed by the assassin Gazelle while trying to rescue Professor James Arnold from kidnappers. Eggsy becomes Hart's candidate. Other candidates are eliminated through dangerous training tests run by operative "Merlin", until only Eggsy and Roxy, a candidate he befriended, are left. Eggsy is unable to complete the final test – shooting a dog he has raised during the training process (unaware that the gun holds blanks) – and Roxy is named the new "Lancelot".
Meanwhile, Merlin discovers that Professor Arnold has returned to work as if nothing had happened. Hart attempts to interrogate him, but a chip in Professor Arnold's neck explodes, killing him. The detonation signal is traced to a facility owned by Internet billionaire and philanthropist Richmond Valentine, who has recently offered everyone in the world SIM cards that grant free lifetime cellular and Internet connectivity. Hart, impersonating a billionaire philanthropist, meets Valentine face-to-face. Hart learns of Valentine's connection to an obscure hate group's church in Kentucky, and travels there, wearing glasses containing a video transceiver. As Eggsy watches, Valentine activates the SIM cards in the church, triggering a signal that causes the parishioners to become murderously violent. Hart's spy training leaves him as the only survivor. Outside the church Valentine explains what happened, then shoots Hart in the face.
Eggsy returns to Kingsman headquarters and finds that Chester "Arthur" King, Kingsman's leader, has a scar on his neck just like Professor Arnold's. King reveals that Valentine plans to transmit his "neurological wave" worldwide via satellite network, believing the resulting "culling" of the human race will avert its extinction. Only those Valentine has chosen, willing and unwilling, will be unaffected. King tries to poison Eggsy, but Eggsy switches glasses and King poisons himself.
Eggsy, Merlin and Roxy set out to stop Valentine. Roxy uses high-altitude balloons to destroy one of Valentine's satellites and break up the network, but Valentine quickly secures a replacement from a business associate. Merlin flies Eggsy to Valentine's base, where he masquerades as King. Eggsy is discovered by a failed Kingsman recruit, Charlie Hesketh, leading to both Eggsy and Merlin being cornered. On Eggsy's suggestion, Merlin activates the implanted chips' failsafe, killing almost everyone with a chip. An angry Valentine activates the signal and triggers worldwide pandemonium. Eggsy kills Gazelle and uses one of her sharpened prosthetic legs to impale Valentine and kill him, stopping the signal and ending the threat.
In a mid-credits scene, Eggsy, now a full Kingsman agent, offers his mother and half-sister a new home away from his abusive stepfather Dean, who flatly objects to Eggsy's suggestion. Eggsy then dispatches him in exactly the same manner that Hart dealt with one of Dean's henchmen earlier.