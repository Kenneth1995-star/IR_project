St. Trinian's II: The Legend of Fritton's Gold

One night, the girls of St. Trinian's catch Celia, a member of the eco sect, retrieving an old ring from the school's Fritton Archives, who explains that an unknown man telephoned her to retrieve it for him in exchange for £20,000. Seeking to get more, Annabelle Fritton, the new head girl, demands £100,000 from the man when he calls back, only for him to refuse and threaten the girls for their greed. When the school's power is cut, the girls ask their headmistress, Camilla Fritton, about why the ring might be so valuable.
Camilla recognises the ring as one of two created by a pirate ancestor of hers in 1589, which when brought together can lead the way to a buried treasure hidden somewhere in the world. Shortly after learning this, the school is besieged by masked men led by Sir Piers Pomfrey, a man of flawless reputation and a descendant of the man that was robbed by Camilla's pirate ancestor, who steals the ring with the intention of finding the treasure.
Seeking to stop him, the girls search for the second ring and find a clue left by another ancestor who located the first and left it in the archives. After a difficult time deciphering a clue they left, the girls find it to be hidden within a boy's school, leaving a group to infiltrate it in disguise and recover it. Seeking to recover the first, the girls learn that Piers is the leader of a secret society known as AD1, a masculinist brotherhood, and that Camilla's old flame and former head of education, Geoffrey Thwaites, knows about him and the society.
After tracking him down at a pub, Camilla convinces him to help them, whereupon she puts him through a course to help him overcome his need for drink, and assigns him to work undercover at AD1's hideout, with Annabelle calling in the former head girl Kelly, now an M.I.7 agent, to assist in the recovery of the ring. Despite the girls not finding it in the vault, Geoffrey spots it being worn by Piers and manages to steal it from him, returning it back to St. Trinian's.
Finding that the two rings bear longitude and latitude coordinates respectively on them, the girls find that the treasure is buried under the Globe Theatre. After organising a flash mob to keep AD1 from pursuing them, after Piers learns they recovered the first ring, Camilla, Geoffrey, the school's bursar, Annabelle and a small group of the girls make it to the theatre, and while the girls head underneath the building, Camilla and Geoffrey pose as actors they knocked out to avoid raising an alarm.
Although the girls make it to the treasure's location within a secret room, they discover a chest within containing nothing more than a note from Pirate Fritton, who gave up being a pirate to write plays under the name of William Shakespeare, and that the treasure was the final play he wrote intended to reveal that "he" was a woman. Piers, managing to track them down, holds them at gunpoint and steals the play from them, revealing that his ancestors knew this fact and that he had always intended to find the play and destroy it. The girls watch as he flees the scene on his private boat.
Seeking to stop him, the girls take control of the reconstruction of the Golden Hind and sail it down the Thames, whereupon they attack Pier's boat, with Camilla recovering the play's script from him. The girls soon return to St. Trinian's for a wild party to celebrate their success, while Piers is exposed for being a sexist after AD1 is revealed to the media.