Yellow Canary

In the Second World War, Sally Maitland (Anna Neagle) appears to signal Nazi planes to bomb England after murdering an innocent citizen in his home. The next morning, Sally boards a ship bound for Canada. Two of her fellow passengers, Jim Garrick (Richard Greene) and Polish officer Jan Orlock (Albert Lieven), seek her acquaintance, despite her long-time and well-known admiration for Nazi Germany. It soon becomes common knowledge that Jim is a British intelligence officer. Sally rebuffs his advances, but welcomes Jan's attention. Sally is, in fact, a deep cover British agent on a secret mission shadowing her quarry: Jan. Unbeknownst to Sally, Jim has been assigned to help and protect her.
The ship is stopped in mid-ocean by the German heavy cruiser Prinz Eugen, and a boarding party takes Jim prisoner. To the puzzlement of the ship's captain, the cruiser allows the ship to continue on its way. It turns out that the Germans have captured an impostor, when Jim emerges from hiding.
When they reach Halifax, Nova Scotia, Jan introduces Sally to his invalid mother, Madame Orlock (Lucie Mannheim). Jim uses his contacts to have Sally appear to be a true Nazi sympathizer by having Canadian government men expose her and warn the Orlocks to stay away from her due to her Nazi leanings. Sally pretends to try to break off their relationship to avoid trouble for them.
Jan reveals that he is working for the Nazis and recruits Sally into his spy ring on the night of their greatest exploit. Sally has been waiting for this chance to find out who his fellow conspirators are, especially their leader. To Sally's surprise, the leader turns out to be Madame Orlock, who is not Jan's mother and is not an invalid. The others are people she met at her hotel (who have been covertly observing her), and even include a port immigration officer. The leader reveals that one of the ships of an incoming convoy has been secretly replaced by another filled with explosives, which is to be detonated when they reach Halifax, wrecking the vital port; a plan inspired by a devastating accident of the First World War.
At this point, Jan reveals he is anxious to make up for a recent bungled secret mission to bomb British royalty which failed due to his contact man sending incorrect landmark signals to the bombers. This explains the opening sequence: Sally killed the Nazi agent and thwarted that mission. Sally finally learns that Jim is assigned to her, when she catches him breaking into Jan's study to try to uncover evidence, just as she has.
Later, after being caught unawares when Orlock sneaks into her room, she thinks fast to explain her friendliness to Jim. Orlock believes she is a double agent, but she claims she is tricking the enemy and avoids being summarily executed. She then slips Jim a note written in lipstick advising him to wait at headquarters for information and heads off with Orlock.
Orlock orders Sally to telephone Jim and tell him that an attempt will be made to sabotage the Queen Mary, scheduled to sail later that night, and that all available agents should be immediately sent to stop it. Sally is able to warn Naval Intelligence of the actual plot; RCMP officers are dispatched to the house. RCAF bombers are sent to bomb and destroy the ship. Jan shoots Sally before Jim can rescue her; fortunately, the bullet is stopped by a cigarette case which he gave to her earlier.
Sally and Jim are married, and with Sally's cover now blown, they return to London to meet her family.