Trainspotting

Edinburgh heroin addict Mark Renton buys opium suppositories from dealer Mikey Forrester to help him quit. After his final hit, and a violent spell of diarrhea caused by cessation of heroin, he locks himself in his flat to endure the withdrawal period. Finding that his sex drive has returned, he leaves a club with a girl, Diane, and they have sex in her bedroom. In the morning, he realises that Diane is underage and that her "flatmates" are her parents. Diane threatens to reveal the encounter if he ends the relationship.
Renton and his friends, oafish but good-natured Spud and con artist Sick Boy, start using heroin again. His friend Tommy, a clean-cut athlete whose girlfriend has dumped him after a chain of events initiated by Renton, also begins using. Fellow addict Allison discovers that her infant daughter Dawn has died without the group noticing; all are horrified, especially Sick Boy, Dawn's father.
Renton and Spud are arrested for shoplifting. Spud goes to prison, but Renton avoids punishment by entering a drug interventions programme, where he is given methadone. Despite support from his family, Renton is desperate for a more substantial high and escapes to his drug dealer's flat. He nearly dies of an overdose, and his dealer sends him to hospital in a taxicab. Renton's parents lock him in his childhood bedroom to force him through withdrawal. Renton has hallucinations of Diane singing, his friends giving him advice, Dawn crawling on the ceiling, and a TV game show in which presenter Dale Winton asks Renton's parents questions about HIV.
At the insistence of his parents, Renton has an HIV/AIDS test; despite years of sharing syringes, Renton tests negative. Depressed, he visits Tommy, who has succumbed to addiction and is now HIV positive and severely ill. Renton moves to London and takes a job as a property letting agent. He begins to enjoy his new life of sobriety, and saves money while corresponding with Diane. However, to his annoyance, Renton's sociopathic friend Begbie, who has committed armed robbery, and Sick Boy, now a pimp and drug dealer, move into Renton's bedsit unannounced.
After Tommy dies from AIDS-related toxoplasmosis, the three travel back to Scotland to attend his funeral. They meet Spud, who has been released from prison. Sick Boy suggests a lucrative heroin transaction, but needs Renton to supply half of the initial £4,000. Renton injects himself with a sample to test the heroin's purity and the four sell the heroin to a dealer in London for £16,000. During their celebration at a pub, Renton secretly suggests to Spud that they steal the money, but Spud is too scared of Begbie to consider it.
Renton tires of Begbie after witnessing him glass and beat a man whom he bumped into. Early in the morning, as the others sleep, Renton takes the money. Spud sees Renton leave, but remains silent. When Begbie awakens, he destroys the hotel room in a rage. Spud and Sick Boy leave when the police arrive. Renton reiterates his vow to live a stable, traditional life and leaves Spud £4,000.